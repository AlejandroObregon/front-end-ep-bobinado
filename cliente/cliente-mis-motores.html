<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Motores - Área del Cliente</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/public.css">
    <link rel="stylesheet" href="../css/cliente.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="public-page">
    <!-- Header del Cliente -->
    <header class="public-header">
        <div class="container">
            <nav class="public-nav">
                <a href="../cliente-dashboard.html" class="logo">
                    <i class="fas fa-tools"></i>
                    <span>Mi Taller</span>
                </a>
                <div class="user-welcome">
                    <!-- Será llenado por cliente.js -->
                </div>
                <ul class="nav-links">
                    <li><a href="../cliente-dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                    <li><a href="cliente-mis-motores.html" class="active"><i class="fas fa-motorcycle"></i> Mis Motores</a></li>
                    <li><a href="cliente-mis-ordenes.html"><i class="fas fa-clipboard-list"></i> Mis Órdenes</a></li>
                    <li><a href="cliente-historial.html"><i class="fas fa-history"></i> Historial</a></li>
                    <li><a href="cliente-perfil.html"><i class="fas fa-user"></i> Mi Perfil</a></li>
                    <li>
                        <a href="../public-index.html" class="btn btn-outline">
                            <i class="fas fa-sign-out-alt"></i> Salir
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="public-main">
        <div class="container">
            <!-- Encabezado -->
            <div class="dashboard-header">
                <h1><i class="fas fa-motorcycle"></i> Mis Motores</h1>
                <p class="welcome-message">Gestione y realice seguimiento a todos sus motores registrados</p>
            </div>

            <!-- Tabs de filtrado -->
            <div class="motor-tabs">
                <button class="motor-tab active" data-filter="todos">
                    <i class="fas fa-list"></i> Todos
                    <span class="badge">3</span>
                </button>
                <button class="motor-tab" data-filter="activos">
                    <i class="fas fa-check-circle"></i> Activos
                    <span class="badge">2</span>
                </button>
                <button class="motor-tab" data-filter="reparacion">
                    <i class="fas fa-tools"></i> En reparación
                    <span class="badge">1</span>
                </button>
                <button class="motor-tab" data-filter="monofasicos">
                    <i class="fas fa-bolt"></i> Monofásicos
                    <span class="badge">1</span>
                </button>
                <button class="motor-tab" data-filter="trifasicos">
                    <i class="fas fa-bolt"></i> Trifásicos
                    <span class="badge">2</span>
                </button>
                <button class="btn btn-primary" onclick="agregarNuevoMotor()">
                    <i class="fas fa-plus-circle"></i> Registrar nuevo motor
                </button>
            </div>

            <!-- Barra de herramientas -->
            <div class="filters-bar">
                <div class="filter-group">
                    <label for="filterMarca">Marca:</label>
                    <select id="filterMarca">
                        <option value="">Todas</option>
                        <option value="siemens">SIEMENS</option>
                        <option value="weg">WEG</option>
                        <option value="abb">ABB</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="filterEstadoMotor">Estado:</label>
                    <select id="filterEstadoMotor">
                        <option value="">Todos</option>
                        <option value="activo">Activo</option>
                        <option value="reparacion">En reparación</option>
                        <option value="mantenimiento">En mantenimiento</option>
                        <option value="inactivo">Inactivo</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchMotors" placeholder="Buscar motores...">
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="aplicarFiltros()">
                    <i class="fas fa-filter"></i> Aplicar
                </button>
            </div>

            <!-- Grid de motores -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-cogs"></i> <span class="motores-count">3</span> motores registrados</h2>
                    <div class="view-options">
                        <button class="btn btn-outline btn-sm active">
                            <i class="fas fa-th-large"></i> Grid
                        </button>
                        <button class="btn btn-outline btn-sm">
                            <i class="fas fa-list"></i> Lista
                        </button>
                    </div>
                </div>
                
                <div class="motores-grid">
                    <!-- Motor 1 -->
                    <div class="motor-card-detailed" data-estado="Activo" data-tipo="Trifásico">
                        <div class="motor-header">
                            <h3>SIEMENS 20HP</h3>
                            <span class="motor-serial-badge">SI-2020-4587</span>
                        </div>
                        
                        <div class="motor-body">
                            <div class="motor-status">
                                <span class="badge bg-success">Activo</span>
                                <span class="badge bg-primary">Trifásico</span>
                                <span class="badge bg-info">20 HP</span>
                            </div>
                            
                            <div class="motor-specs">
                                <div class="motor-spec">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <span class="spec-label">RPM</span>
                                    <span class="spec-value">1750</span>
                                </div>
                                <div class="motor-spec">
                                    <i class="fas fa-bolt"></i>
                                    <span class="spec-label">Voltaje</span>
                                    <span class="spec-value">440V</span>
                                </div>
                                <div class="motor-spec">
                                    <i class="fas fa-calendar-check"></i>
                                    <span class="spec-label">Año</span>
                                    <span class="spec-value">2020</span>
                                </div>
                                <div class="motor-spec">
                                    <i class="fas fa-heartbeat"></i>
                                    <span class="spec-label">Salud</span>
                                    <span class="spec-value">85%</span>
                                </div>
                            </div>
                            
                            <div class="motor-info">
                                <p><i class="fas fa-map-marker-alt"></i> <strong>Ubicación:</strong> Planta principal</p>
                                <p><i class="fas fa-calendar-alt"></i> <strong>Próximo mantenimiento:</strong> 15 Feb 2024</p>
                                <p><i class="fas fa-history"></i> <strong>Último servicio:</strong> 10 Dic 2023</p>
                                <p><i class="fas fa-sticky-note"></i> <strong>Notas:</strong> Motor para sistema de ventilación</p>
                            </div>
                        </div>
                        
                        <div class="motor-actions-detailed">
                            <button class="btn btn-primary" onclick="verDetalleMotor(1)">
                                <i class="fas fa-eye"></i> Ver detalle
                            </button>
                            <button class="btn btn-outline" onclick="programarMantenimientoMotor(1)">
                                <i class="fas fa-calendar-plus"></i> Mantenimiento
                            </button>
                            <button class="btn btn-outline" onclick="verHistorialMotor('SI-2020-4587')">
                                <i class="fas fa-history"></i> Historial
                            </button>
                            <a href="../public/public-modelos3d.html" class="btn btn-outline">
                                <i class="fas fa-cube"></i> Ver 3D
                            </a>
                        </div>
                    </div>

                    <!-- Motor 2 -->
                    <div class="motor-card-detailed" data-estado="En reparación" data-tipo="Monofásico">
                        <div class="motor-header warning">
                            <h3>WEG 5HP</h3>
                            <span class="motor-serial-badge">WEG-2021-7890</span>
                        </div>
                        
                        <div class="motor-body">
                            <div class="motor-status">
                                <span class="badge bg-warning">En reparación</span>
                                <span class="badge bg-primary">Monofásico</span>
                                <span class="badge bg-info">5 HP</span>
                            </div>
                            
                            <div class="motor-specs">
                                <div class="motor-spec">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <span class="spec-label">RPM</span>
                                    <span class="spec-value">3450</span>
                                </div>
                                <div class="motor-spec">
                                    <i class="fas fa-bolt"></i>
                                    <span class="spec-label">Voltaje</span>
                                    <span class="spec-value">220V</span>
                                </div>
                                <div class="motor-spec">
                                    <i class="fas fa-calendar-check"></i>
                                    <span class="spec-label">Año</span>
                                    <span class="spec-value">2021</span>
                                </div>
                                <div class="motor-spec">
                                    <i class="fas fa-heartbeat"></i>
                                    <span class="spec-label">Salud</span>
                                    <span class="spec-value">40%</span>
                                </div>
                            </div>
                            
                            <div class="motor-info">
                                <p><i class="fas fa-map-marker-alt"></i> <strong>Ubicación:</strong> Taller secundario</p>
                                <p><i class="fas fa-tools"></i> <strong>Estado:</strong> Esperando rodamientos</p>
                                <p><i class="fas fa-clock"></i> <strong>En taller desde:</strong> 18 Ene 2024</p>
                                <p><i class="fas fa-sticky-note"></i> <strong>Notas:</strong> Para bomba de agua</p>
                            </div>
                        </div>
                        
                        <div class="motor-actions-detailed">
                            <button class="btn btn-primary" onclick="verDetalleMotor(2)">
                                <i class="fas fa-eye"></i> Ver detalle
                            </button>
                            <a href="cliente-mis-ordenes.html#detalle-0016" class="btn btn-outline">
                                <i class="fas fa-clipboard-list"></i> Ver orden
                            </a>
                            <button class="btn btn-outline" onclick="contactarTecnico('Ana Rodríguez')">
                                <i class="fas fa-comment"></i> Contactar
                            </button>
                            <button class="btn btn-outline" onclick="solicitarActualizacionMotor(2)">
                                <i class="fas fa-sync"></i> Actualizar
                            </button>
                        </div>
                    </div>

                    <!-- Motor 3 -->
                    <div class="motor-card-detailed" data-estado="Activo" data-tipo="Trifásico">
                        <div class="motor-header">
                            <h3>ABB 10HP</h3>
                            <span class="motor-serial-badge">ABB-2019-1234</span>
                        </div>
                        
                        <div class="motor-body">
                            <div class="motor-status">
                                <span class="badge bg-success">Activo</span>
                                <span class="badge bg-primary">Trifásico</span>
                                <span class="badge bg-info">10 HP</span>
                            </div>
                            
                            <div class="motor-specs">
                                <div class="motor-spec">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <span class="spec-label">RPM</span>
                                    <span class="spec-value">1450</span>
                                </div>
                                <div class="motor-spec">
                                    <i class="fas fa-bolt"></i>
                                    <span class="spec-label">Voltaje</span>
                                    <span class="spec-value">220V/440V</span>
                                </div>
                                <div class="motor-spec">
                                    <i class="fas fa-calendar-check"></i>
                                    <span class="spec-label">Año</span>
                                    <span class="spec-value">2019</span>
                                </div>
                                <div class="motor-spec">
                                    <i class="fas fa-heartbeat"></i>
                                    <span class="spec-label">Salud</span>
                                    <span class="spec-value">92%</span>
                                </div>
                            </div>
                            
                            <div class="motor-info">
                                <p><i class="fas fa-map-marker-alt"></i> <strong>Ubicación:</strong> Sala de máquinas</p>
                                <p><i class="fas fa-calendar-alt"></i> <strong>Próximo mantenimiento:</strong> 01 Abr 2024</p>
                                <p><i class="fas fa-history"></i> <strong>Último servicio:</strong> 25 Nov 2023</p>
                                <p><i class="fas fa-sticky-note"></i> <strong>Notas:</strong> Motor principal de compresor</p>
                            </div>
                        </div>
                        
                        <div class="motor-actions-detailed">
                            <button class="btn btn-primary" onclick="verDetalleMotor(3)">
                                <i class="fas fa-eye"></i> Ver detalle
                            </button>
                            <button class="btn btn-outline" onclick="programarMantenimientoMotor(3)">
                                <i class="fas fa-calendar-plus"></i> Mantenimiento
                            </button>
                            <button class="btn btn-outline" onclick="generarReporteMotor('ABB-2019-1234')">
                                <i class="fas fa-download"></i> Reporte
                            </a>
                            </button>
                            <a href="../public/public-modelos3d.html" class="btn btn-outline">
                                <i class="fas fa-cube"></i> Ver 3D
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Métricas de motores -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-chart-line"></i> Métricas de motores</h2>
                </div>
                
                <div class="motor-metrics">
                    <div class="metric-card">
                        <h4><i class="fas fa-chart-bar"></i> Uso mensual promedio</h4>
                        <div class="metric-chart" data-chart="uso">
                            <!-- Se llenará con JavaScript -->
                        </div>
                        <p class="metric-note">Promedio: 87% de capacidad</p>
                    </div>
                    
                    <div class="metric-card">
                        <h4><i class="fas fa-exclamation-triangle"></i> Fallas por motor (2023)</h4>
                        <div class="metric-chart">
                            <!-- Aquí iría otro gráfico -->
                        </div>
                        <p class="metric-note">Total fallas: 13 en el año</p>
                    </div>
                    
                    <div class="metric-card">
                        <h4><i class="fas fa-money-bill-wave"></i> Costos de mantenimiento</h4>
                        <div class="metric-chart">
                            <!-- Aquí iría otro gráfico -->
                        </div>
                        <p class="metric-note">Inversión 2023: ₡325,000</p>
                    </div>
                </div>
            </div>

            <!-- Información de garantías -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-shield-alt"></i> Garantías activas</h2>
                </div>
                
                <div class="warranty-grid">
                    <div class="warranty-card card-enhanced">
                        <div class="warranty-header">
                            <h4>SIEMENS 20HP</h4>
                            <span class="warranty-status badge bg-success">Activa</span>
                        </div>
                        <div class="warranty-content">
                            <p><strong>Servicio:</strong> Bobinado completo</p>
                            <p><strong>Fecha:</strong> 10 Dic 2023</p>
                            <p><strong>Válido hasta:</strong> 10 Jun 2024</p>
                            <p><strong>Cobertura:</strong> 6 meses en mano de obra</p>
                        </div>
                    </div>
                    
                    <div class="warranty-card card-enhanced">
                        <div class="warranty-header">
                            <h4>ABB 10HP</h4>
                            <span class="warranty-status badge bg-success">Activa</span>
                        </div>
                        <div class="warranty-content">
                            <p><strong>Servicio:</strong> Cambio de rodamientos</p>
                            <p><strong>Fecha:</strong> 25 Nov 2023</p>
                            <p><strong>Válido hasta:</strong> 25 Feb 2024</p>
                            <p><strong>Cobertura:</strong> 3 meses en repuestos</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="public-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4><i class="fas fa-motorcycle"></i> Gestión de motores</h4>
                    <p>Administre y realice seguimiento a su parque de motores</p>
                    <div class="contact-support">
                        <p><i class="fas fa-phone"></i> Soporte técnico: 2222-5555 ext. 2</p>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h4>Recursos útiles</h4>
                    <ul class="footer-links">
                        <li><a href="../public/public-modelos3d.html">Modelos 3D de motores</a></li>
                        <li><a href="../public/public-blog.html">Blog de mantenimiento</a></li>
                        <li><a href="../public/public-servicios.html">Catálogo de servicios</a></li>
                        <li><a href="#">Manuales técnicos</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; <span id="current-year">2024</span> Taller Eléctrico Mecánico. Gestión de motores.</p>
                <p>
                    <a href="../cliente-dashboard.html">← Volver al Dashboard</a> |
                    <a href="../public-index.html">Sitio público</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/public.js"></script>
    <script src="../js/cliente.js"></script>
    
    <script>
        // Funciones específicas para motores
        function verHistorialMotor(serial) {
            alert(`Mostrando historial completo del motor ${serial}...`);
        }

        function solicitarActualizacionMotor(motorId) {
            showNotification('Solicitando actualización del estado del motor...', 'info');
            setTimeout(() => {
                showNotification('El técnico será notificado para actualizar la información', 'success');
            }, 1000);
        }

        function generarReporteGeneral() {
            showNotification('Generando reporte general de todos los motores...', 'info');
            setTimeout(() => {
                showNotification('Reporte generado exitosamente. Descargando...', 'success');
            }, 2000);
        }

        function contactarAsesorMotores() {
            alert('Contactando con asesor técnico especializado en motores...\n\nSe abriría el formulario de contacto.');
        }

        // Inicializar búsqueda en tiempo real
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            const searchInput = document.getElementById('searchMotors');
            if (searchInput) {
                searchInput.addEventListener('input', function() {
                    const term = this.value.toLowerCase();
                    document.querySelectorAll('.motor-card-detailed').forEach(card => {
                        const text = card.textContent.toLowerCase();
                        card.style.display = text.includes(term) ? 'block' : 'none';
                        
                        // Actualizar contador
                        const visibles = document.querySelectorAll('.motor-card-detailed[style*="block"]').length;
                        const counter = document.querySelector('.motores-count');
                        if (counter) counter.textContent = visibles;
                    });
                });
            }
            
            // Estilos adicionales
            const style = document.createElement('style');
            style.textContent = `
                .motor-header.warning {
                    background: linear-gradient(135deg, #f59e0b, #fbbf24);
                }
                
                .warranty-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                    gap: 20px;
                    margin-top: 20px;
                }
                
                .warranty-card {
                    padding: 20px;
                }
                
                .warranty-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 15px;
                    padding-bottom: 10px;
                    border-bottom: 1px solid var(--border-light);
                }
                
                .warranty-content p {
                    margin: 8px 0;
                    color: var(--text-medium);
                }
                
                .view-options {
                    display: flex;
                    gap: 10px;
                }
                
                .metric-note {
                    margin-top: 10px;
                    font-size: 14px;
                    color: var(--text-muted);
                    text-align: center;
                }
                
                .motor-info p {
                    margin: 8px 0;
                    color: var(--text-medium);
                    font-size: 14px;
                }
                
                .motor-info p i {
                    width: 16px;
                    color: var(--primary-color);
                    margin-right: 8px;
                }
            `;
            document.head.appendChild(style);
            
            // Inicializar métricas
            setTimeout(() => inicializarMetricas(), 500);
        });
    </script>
</body>
</html>